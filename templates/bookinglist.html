{% extends 'base.html' %}

{% block head_title %}Booking List{% endblock %}

{% block content %}
<h2>Booking List</h2>
{% if user.is_authenticated %}
<a href="{% url 'bookform' %}" class="btn btn-primary">Make a Booking</a>
{% endif %}

{% if object_list %}
<ul>
    {% for booking in object_list %}
    <li>
        {{ booking.guest }} - {{ booking.date }} {{ booking.time }}
        {% if user.is_authenticated and user == booking.guest %}
        <a href="{% url 'delete' pk=booking.pk %}" class="btn btn-danger btn-sm">Delete</a>
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% if is_paginated %}
<div class="pagination">
    <span class="step-links">
        {% if object_list.has_previous %}
        <a href="?page=1">&laquo; first</a>
        <a href="?page={{ object_list.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ object_list.number }} of {{ object_list.paginator.num_pages }}.
        </span>

        {% if object_list.has_next %}
        <a href="?page={{ object_list.next_page_number }}">next</a>
        <a href="?page={{ object_list.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
{% endif %}
{% else %}
<p>No bookings available.</p>
{% endif %}
{% endblock %}